{"version":3,"sources":["ui.tsx","editor/run-test.tsx","editor/persist.ts","editor/casbin-mode/example-model.ts","editor/casbin-mode/example-policy.ts","editor/casbin-mode/example-request.ts","editor/select-model.tsx","editor/casbin-mode/casbin-conf.ts","editor/casbin-mode/casbin-csv.ts","editor/editor.tsx","editor/syntax.tsx","editor/index.tsx","index.tsx"],"names":["Button","styled","button","HeaderTitle","h4","FlexRow","div","EditorContainer","Echo","span","props","type","defaultProps","Footer","RunTest","style","marginRight","onClick","a","startTime","performance","now","result","newEnforcer","newModel","model","StringAdapter","policy","e","fnString","fn","fns","eval","Object","keys","forEach","key","addFunction","onResponse","request","split","n","p","map","trim","filter","length","enforce","push","stopTime","toFixed","message","Persist","exampleModel","basic","basic_with_root","basic_without_resources","basic_without_users","rbac","rbac_with_resource_roles","rbac_with_domains","rbac_with_deny","abac","keymatch","keymatch2","ipmatch","priority","examplePolicy","exampleRequest","DEFAULT_MODEL","getKey","persist","modelName","toUpperCase","getSelectedModel","v","window","localStorage","getItem","MODEL","toString","get","data","POLICY","REQUEST","CUSTOM_FUNCTION","SelectModel","defaultValue","onChange","value","target","setItem","disabled","console","log","CodeMirror","defineMode","tokenBase","stream","state","ch","peek","match","sec","skipTo","eat","skipToEnd","after_equal","sol","RegExp","next","comma","dot","startState","tokenize","token","CasbinCodeMirror","useState","setValue","useEffect","modelText","onBeforeChange","editor","text","set","options","CustomFunctionEditor","lineNumbers","indentUnit","styleActiveLine","matchBrackets","mode","lineWrapping","theme","ModelEditor","PolicyEditor","RequestEditor","RequestResultEditor","readOnly","Syntax","Config","newConfigFromText","EditorScreen","setModel","setModelText","setPolicy","setFn","setRequest","echo","setEcho","requestResult","setRequestResult","visible","setVisible","confirm","m","hasOwnProperty","index","parseInt","isNaN","removeItem","reset","location","reload","marginLeft","padding","component","isValidElement","Array","isArray","join","display","rootElement","document","getElementById","ReactDOM","render","href","alt","src","color","float","fontSize","Date","getFullYear"],"mappings":"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","file":"static/js/main.30191de1.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n  border: 1px solid #443d80;\n  border-radius: 3px;\n  color: #443d80;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.2em;\n  padding: 10px;\n  text-decoration: none !important;\n  text-transform: uppercase;\n  transition: background 0.3s, color 0.3s;\n\n  :hover {\n    background: #443d80;\n    color: #fff;\n  }\n`;\n\nexport const HeaderTitle = styled.h4`\n  padding: 8px;\n`;\n\nexport const FlexRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nexport const EditorContainer = styled.div`\n  flex: 1;\n`;\n\ninterface EchoProps {\n  type?: 'pass' | 'error';\n}\n\nconst error = '#db4545';\nconst pass = '#39aa56';\n\nexport const Echo = styled.span<EchoProps>`\n  color: ${(props: EchoProps) => {\n    switch (props.type) {\n      case 'error':\n        return error;\n      case 'pass':\n        return pass;\n    }\n  }};\n  font-weight: 600;\n  font-size: 14px;\n`;\n\nEcho.defaultProps = {\n  type: 'pass'\n};\n\nexport const Footer = styled.div`\n  padding: 1em;\n  background: #222;\n`;\n","import React from 'react';\nimport { Button, Echo } from '../ui';\nimport { newEnforcer, newModel, StringAdapter } from 'casbin';\n\ninterface RunTestProps {\n  model: string;\n  policy: string;\n  fn: string;\n  request: string;\n  onResponse: (com: JSX.Element | boolean[]) => void;\n}\n\nconst RunTest = (props: RunTestProps) => {\n  return (\n    <Button\n      style={{ marginRight: 8 }}\n      onClick={async () => {\n        const startTime = performance.now();\n        const result = [];\n        try {\n          const e = await newEnforcer(newModel(props.model), new StringAdapter(props.policy));\n\n          const fnString = props.fn;\n          if (fnString) {\n            try {\n              const fns: any = {};\n              // eslint-disable-next-line\n              eval(`${fnString}`);\n              if (fns) {\n                Object.keys(fns).forEach(key => e.addFunction(key, fns[key]));\n              }\n            } catch (e) {\n              props.onResponse(<Echo>Please check syntax in Custom Function Editor.</Echo>);\n              return;\n            }\n          }\n\n          for (const n of props.request.split('\\n')) {\n            const p = n\n              .split(',')\n              .map(n => n.trim())\n              .filter(n => n);\n\n            if (!p || p.length === 0) {\n              return;\n            }\n\n            result.push(await e.enforce(...p));\n          }\n\n          const stopTime = performance.now();\n\n          props.onResponse(<Echo>{'Done in ' + ((stopTime - startTime) / 1000.0).toFixed(2) + 's'}</Echo>);\n          props.onResponse(result);\n        } catch (e) {\n          props.onResponse(<Echo type={'error'}>{e.message}</Echo>);\n          props.onResponse([]);\n        }\n      }}\n    >\n      RUN THE TEST\n    </Button>\n  );\n};\n\nexport default RunTest;\n","import exampleModel from './casbin-mode/example-model';\nimport examplePolicy from './casbin-mode/example-policy';\nimport exampleRequest from './casbin-mode/example-request';\n\nexport const DEFAULT_MODEL = 'basic';\n\nexport enum Persist {\n  MODEL,\n  POLICY,\n  REQUEST,\n  CUSTOM_FUNCTION\n}\n\nfunction getKey(persist: Persist, modelName: string) {\n  return `${modelName.toUpperCase()}_${Persist[persist]}`;\n}\n\nexport function getSelectedModel() {\n  const v = window.localStorage.getItem(Persist.MODEL.toString());\n  return v ? v : DEFAULT_MODEL;\n}\n\nexport function setSelectedModel(value: string) {\n  window.localStorage.setItem(Persist[Persist.MODEL], value);\n}\n\nexport function get(persist: Persist, modelName = DEFAULT_MODEL) {\n  const data = window.localStorage.getItem(getKey(persist, modelName));\n\n  if (data) {\n    return data;\n  }\n  switch (persist) {\n    case Persist.MODEL:\n      return (exampleModel as any)[modelName];\n    case Persist.POLICY:\n      return (examplePolicy as any)[modelName];\n    case Persist.REQUEST:\n      return (exampleRequest as any)[modelName];\n    case Persist.CUSTOM_FUNCTION:\n      return `var fns = {}`;\n  }\n}\n\nexport function set(persist: Persist, text: string) {\n  const modelName = getSelectedModel() || DEFAULT_MODEL;\n  window.localStorage.setItem(getKey(persist, modelName), text);\n}\n\nexport function reset(modelName: string) {\n  for (const m in Persist) {\n    if (!Persist.hasOwnProperty(m)) {\n      continue;\n    }\n    const index = parseInt(m, 10);\n    if (!isNaN(index)) {\n      continue;\n    }\n    window.localStorage.removeItem(getKey(index, modelName));\n  }\n}\n","/* eslint-disable */\n\nconst exampleModel = {\n  /////////////////////////////////////////////////////////////////////////\n  basic:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.sub == p.sub && r.obj == p.obj && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  basic_with_root:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.sub == p.sub && r.obj == p.obj && r.act == p.act || r.sub == \"root\"',\n  /////////////////////////////////////////////////////////////////////////\n  basic_without_resources:\n    '[request_definition]\\n' +\n    'r = sub, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.sub == p.sub && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  basic_without_users:\n    '[request_definition]\\n' +\n    'r = obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.obj == p.obj && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  rbac:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[role_definition]\\n' +\n    'g = _, _\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  rbac_with_resource_roles:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[role_definition]\\n' +\n    'g = _, _\\n' +\n    'g2 = _, _\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = g(r.sub, p.sub) && g2(r.obj, p.obj) && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  rbac_with_domains:\n    '[request_definition]\\n' +\n    'r = sub, dom, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, dom, obj, act\\n' +\n    '\\n' +\n    '[role_definition]\\n' +\n    'g = _, _, _\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = g(r.sub, p.sub, r.dom) && r.dom == p.dom && r.obj == p.obj && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  rbac_with_deny:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act, eft\\n' +\n    '\\n' +\n    '[role_definition]\\n' +\n    'g = _, _\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow)) && !some(where (p.eft == deny))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  abac:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.sub == r.obj.Owner',\n  /////////////////////////////////////////////////////////////////////////\n  keymatch:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.sub == p.sub && keyMatch(r.obj, p.obj) && regexMatch(r.act, p.act)',\n  /////////////////////////////////////////////////////////////////////////\n  keymatch2:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = r.sub == p.sub && keyMatch2(r.obj, p.obj) && regexMatch(r.act, p.act)',\n  /////////////////////////////////////////////////////////////////////////\n  ipmatch:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = some(where (p.eft == allow))\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = ipMatch(r.sub, p.sub) && r.obj == p.obj && r.act == p.act',\n  /////////////////////////////////////////////////////////////////////////\n  priority:\n    '[request_definition]\\n' +\n    'r = sub, obj, act\\n' +\n    '\\n' +\n    '[policy_definition]\\n' +\n    'p = sub, obj, act, eft\\n' +\n    '\\n' +\n    '[role_definition]\\n' +\n    'g = _, _\\n' +\n    '\\n' +\n    '[policy_effect]\\n' +\n    'e = priority(p.eft) || deny\\n' +\n    '\\n' +\n    '[matchers]\\n' +\n    'm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act'\n  /////////////////////////////////////////////////////////////////////////\n};\n\nexport default exampleModel;\n","/* eslint-disable */\n\nconst examplePolicy = {\n  /////////////////////////////////////////////////////////////////////////\n  basic: 'p, alice, data1, read\\n' + 'p, bob, data2, write',\n  /////////////////////////////////////////////////////////////////////////\n  basic_with_root: 'p, alice, data1, read\\n' + 'p, bob, data2, write',\n  /////////////////////////////////////////////////////////////////////////\n  basic_without_resources: 'p, alice, read\\n' + 'p, bob, write',\n  /////////////////////////////////////////////////////////////////////////\n  basic_without_users: 'p, data1, read\\n' + 'p, data2, write',\n  /////////////////////////////////////////////////////////////////////////\n  rbac:\n    'p, alice, data1, read\\n' +\n    'p, bob, data2, write\\n' +\n    'p, data2_admin, data2, read\\n' +\n    'p, data2_admin, data2, write\\n' +\n    '\\n' +\n    'g, alice, data2_admin',\n  /////////////////////////////////////////////////////////////////////////\n  rbac_with_resource_roles:\n    'p, alice, data1, read\\n' +\n    'p, bob, data2, write\\n' +\n    'p, data_group_admin, data_group, write\\n' +\n    '\\n' +\n    'g, alice, data_group_admin\\n' +\n    'g2, data1, data_group\\n' +\n    'g2, data2, data_group',\n  /////////////////////////////////////////////////////////////////////////\n  rbac_with_domains:\n    'p, admin, domain1, data1, read\\n' +\n    'p, admin, domain1, data1, write\\n' +\n    'p, admin, domain2, data2, read\\n' +\n    'p, admin, domain2, data2, write\\n' +\n    '\\n' +\n    'g, alice, admin, domain1\\n' +\n    'g, bob, admin, domain2',\n  /////////////////////////////////////////////////////////////////////////\n  rbac_with_deny:\n    'p, alice, data1, read, allow\\n' +\n    'p, bob, data2, write, allow\\n' +\n    'p, data2_admin, data2, read, allow\\n' +\n    'p, data2_admin, data2, write, allow\\n' +\n    'p, alice, data2, write, deny\\n' +\n    '\\n' +\n    'g, alice, data2_admin',\n  /////////////////////////////////////////////////////////////////////////\n  abac: '',\n  /////////////////////////////////////////////////////////////////////////\n  keymatch:\n    'p, alice, /alice_data/*, GET\\n' +\n    'p, alice, /alice_data/resource1, POST\\n' +\n    '\\n' +\n    'p, bob, /alice_data/resource2, GET\\n' +\n    'p, bob, /bob_data/*, POST\\n' +\n    '\\n' +\n    'p, cathy, /cathy_data, (GET)|(POST)',\n  /////////////////////////////////////////////////////////////////////////\n  keymatch2: 'p, alice, /alice_data/:resource, GET\\n' + 'p, alice, /alice_data2/:id/using/:resId, GET',\n  /////////////////////////////////////////////////////////////////////////\n  ipmatch: 'p, 192.168.2.0/24, data1, read\\n' + 'p, 10.0.0.0/16, data2, write',\n  /////////////////////////////////////////////////////////////////////////\n  priority:\n    'p, alice, data1, read, allow\\n' +\n    'p, data1_deny_group, data1, read, deny\\n' +\n    'p, data1_deny_group, data1, write, deny\\n' +\n    'p, alice, data1, write, allow\\n' +\n    '\\n' +\n    'g, alice, data1_deny_group\\n' +\n    '\\n' +\n    'p, data2_allow_group, data2, read, allow\\n' +\n    'p, bob, data2, read, deny\\n' +\n    'p, bob, data2, write, deny\\n' +\n    '\\n' +\n    'g, bob, data2_allow_group'\n  /////////////////////////////////////////////////////////////////////////\n};\n\nexport default examplePolicy;\n","/* eslint-disable */\nconst exampleRequest = {\n  basic: 'alice, data1, read',\n  basic_with_root: 'alice, data1, read',\n  basic_without_resources: 'alice, read',\n  basic_without_users: 'data1, read',\n  rbac: 'alice, data2, read',\n  rbac_with_resource_roles: 'alice, data1, read\\n' + 'alice, data1, write\\n' + 'alice, data2, read\\n' + 'alice, data2, write ',\n  rbac_with_domains: 'alice, domain1, data1, read',\n  rbac_with_deny: 'alice, data1, read\\n' + 'alice, data2, write',\n  abac: 'Not support',\n  keymatch: 'alice, /alice_data/hello, GET',\n  keymatch2: 'alice, /alice_data/hello, GET\\n' + 'alice, /alice_data/hello, POST',\n  ipmatch: 'Not support',\n  priority: 'alice, data1, read'\n};\n\nexport default exampleRequest;\n","import React from 'react';\nimport { getSelectedModel, setSelectedModel } from './persist';\n\ninterface SelectModelProps {\n  onChange: (value: string) => void;\n}\n\nconst SelectModel = (props: SelectModelProps) => {\n  return (\n    <select\n      defaultValue={getSelectedModel()}\n      onChange={e => {\n        const model = e.target.value;\n        setSelectedModel(model);\n        props.onChange(model);\n      }}\n    >\n      <option value=\"\" disabled>\n        Select your model\n      </option>\n      <option value=\"basic\">ACL</option>\n      <option value=\"basic_with_root\">ACL with superuser</option>\n      <option value=\"basic_without_resources\">ACL without resources</option>\n      <option value=\"basic_without_users\">ACL without users</option>\n      <option value=\"rbac\">RBAC</option>\n      <option value=\"rbac_with_resource_roles\">RBAC with resource roles</option>\n      <option value=\"rbac_with_domains\">RBAC with domains/tenants</option>\n      <option value=\"rbac_with_deny\">RBAC with deny-override</option>\n      <option value=\"abac\">ABAC</option>\n      <option value=\"keymatch\">RESTful (KeyMatch)</option>\n      <option value=\"keymatch2\">RESTful (KeyMatch2)</option>\n      <option value=\"ipmatch\">IP match</option>\n      <option value=\"priority\">Priority</option>\n    </select>\n  );\n};\n\nSelectModel.defaultProps = {\n  onChange: console.log,\n  defaultValue: 'basic'\n};\nexport default SelectModel;\n","// @ts-nocheck\nimport CodeMirror from 'codemirror';\n\nCodeMirror.defineMode('casbin-conf', function() {\n  function tokenBase(stream, state) {\n    const ch = stream.peek();\n    if (ch === '[') {\n      if (stream.match('[request_definition')) {\n        state.sec = 'r';\n        stream.skipTo(']');\n        stream.eat(']');\n        return 'header';\n      } else if (stream.match('[policy_definition')) {\n        state.sec = 'p';\n        stream.skipTo(']');\n        stream.eat(']');\n        return 'header';\n      } else if (stream.match('[role_definition')) {\n        state.sec = 'g';\n        stream.skipTo(']');\n        stream.eat(']');\n        return 'header';\n      } else if (stream.match('[policy_effect')) {\n        state.sec = 'e';\n        stream.skipTo(']');\n        stream.eat(']');\n        return 'header';\n      } else if (stream.match('[matchers')) {\n        state.sec = 'm';\n        stream.skipTo(']');\n        stream.eat(']');\n        return 'header';\n      } else {\n        state.sec = '';\n        stream.skipToEnd();\n        return '';\n      }\n    } else if (ch === '#') {\n      stream.skipToEnd();\n      return 'comment';\n    } else if (ch === '\"') {\n      stream.skipToEnd();\n      stream.skipTo('\"');\n      stream.eat('\"');\n      return 'string';\n    } else if (ch === '=') {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      state.after_equal = true;\n      stream.eat('=');\n    }\n\n    if (stream.sol()) {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      state.after_equal = false;\n    }\n\n    if (state.sec === '') {\n      stream.skipToEnd();\n      return '';\n    }\n\n    if (stream.sol()) {\n      if (state.sec !== '') {\n        if ((state.sec === 'g' && stream.match(new RegExp('^g[2-9]?'))) || stream.match(state.sec)) {\n          if (stream.peek() === ' ' || stream.peek() === '=') {\n            return 'builtin';\n          } else {\n            state.sec = '';\n            stream.next();\n            return;\n          }\n        } else {\n          state.sec = '';\n          stream.next();\n          return;\n        }\n      } else {\n        stream.next();\n        return;\n      }\n    }\n\n    if (!state.after_equal) {\n      stream.next();\n      return;\n    }\n\n    if (state.sec === 'r' || state.sec === 'p') {\n      // Match: r = [sub], [obj], [act]\n      //        p = [sub], [obj], [act]\n      if (state.comma) {\n        state.comma = false;\n        if (stream.match(new RegExp('^[_a-zA-Z][_a-zA-Z0-9]*'))) {\n          return 'property';\n        }\n      }\n      if (stream.eat(',') || stream.eat(' ')) {\n        state.comma = true;\n        return '';\n      }\n    } else if (state.sec === 'e') {\n      // Match: e = some(where (p.[eft] == allow))\n      if (state.dot) {\n        state.dot = false;\n        if (stream.match(new RegExp('^[_a-zA-Z][_a-zA-Z0-9]*'))) {\n          return 'property';\n        }\n      }\n      if (stream.eat('.')) {\n        state.dot = true;\n        return '';\n      }\n\n      // Match: e = some(where ([p].eft == allow))\n      if (stream.match('p') && stream.peek() === '.') {\n        return 'builtin';\n      }\n\n      // Match: e = [some]([where] (p.eft == allow))\n      if (stream.match('some') || stream.match('where') || stream.match('priority')) {\n        return 'keyword';\n      }\n\n      // Match: e = some(where (p.eft == [allow]))\n      if (stream.match('allow') || stream.match('deny')) {\n        return 'string';\n      }\n    } else if (state.sec === 'm') {\n      // Match: m = r.[sub] == p.[sub] && r.[obj] == p.[obj] && r.[act] == p.[act]\n      if (state.dot) {\n        state.dot = false;\n        if (stream.match(new RegExp('^[_a-zA-Z][_a-zA-Z0-9]*'))) {\n          return 'property';\n        }\n      }\n      if (stream.eat('.')) {\n        state.dot = true;\n        return '';\n      }\n\n      // Match: m = [r].sub == [p].sub && [r].obj == [p].obj && [r].act == [p].act\n      if ((stream.match('r') || stream.match('p')) && stream.peek() === '.') {\n        return 'builtin';\n      }\n\n      // Match: m = [g](r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n      if (stream.match(new RegExp('^[_a-zA-Z][_a-zA-Z0-9]*')) && stream.peek() === '(') {\n        return 'def';\n      }\n    }\n\n    stream.next();\n  }\n\n  return {\n    startState: function() {\n      return { tokenize: tokenBase };\n    },\n    token: function(stream, state) {\n      return state.tokenize(stream, state);\n    }\n  };\n});\n","// @ts-nocheck\nimport CodeMirror from 'codemirror';\n\nCodeMirror.defineMode('casbin-csv', function() {\n  function tokenBase(stream, state) {\n    const ch = stream.peek();\n\n    if (ch === '#') {\n      stream.skipToEnd();\n      return 'comment';\n    } else if (ch === ',') {\n      stream.eat(',');\n      return '';\n    }\n\n    if (stream.sol() && stream.match('p')) {\n      return 'def';\n    }\n    if (stream.sol() && (stream.match('g2') || stream.match('g'))) {\n      return 'keyword';\n    }\n\n    if (stream.skipTo(',')) {\n      return 'string';\n    }\n\n    stream.skipToEnd();\n    return 'property';\n\n    // stream.next();\n  }\n\n  return {\n    startState: function() {\n      return { tokenize: tokenBase };\n    },\n    token: function(stream, state) {\n      return state.tokenize(stream, state);\n    }\n  };\n});\n","import React, { CSSProperties, useEffect, useState } from 'react';\nimport { Controlled as CodeMirror } from 'react-codemirror2';\nimport { get, Persist, set } from './persist';\n\nimport * as codemirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/monokai.css';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/addon/selection/active-line';\nimport 'codemirror/addon/edit/matchbrackets';\nimport 'codemirror/addon/display/placeholder';\nimport './casbin-mode/casbin-conf';\nimport './casbin-mode/casbin-csv';\n\ninterface CasbinCodeMirror {\n  model: string;\n  options: codemirror.EditorConfiguration;\n  style?: CSSProperties;\n  onChange: (text: string) => void;\n  persist: Persist;\n}\n\ninterface EditorProps {\n  model: string;\n  onChange?: (text: string) => void;\n  style?: CSSProperties;\n}\n\nconst CasbinCodeMirror = (props: CasbinCodeMirror) => {\n  const [value, setValue] = useState(get(props.persist, props.model));\n\n  const { model, onChange, persist } = props;\n\n  useEffect(() => {\n    const modelText = get(persist, model);\n    setValue(modelText);\n    onChange(modelText);\n  }, [model, persist, onChange]);\n\n  return (\n    <div style={props.style}>\n      <CodeMirror\n        onBeforeChange={(editor, data, value) => {\n          setValue(value);\n          props.onChange(value);\n          set(props.persist, value);\n        }}\n        options={props.options}\n        value={value}\n      />\n    </div>\n  );\n};\n\nCasbinCodeMirror.defaultProps = {\n  onChange: () => {}\n};\n\nexport const CustomFunctionEditor = (props: EditorProps) => {\n  return (\n    <CasbinCodeMirror\n      persist={Persist.CUSTOM_FUNCTION}\n      options={{\n        lineNumbers: true,\n        indentUnit: 4,\n        styleActiveLine: true,\n        matchBrackets: true,\n        mode: 'javascript',\n        lineWrapping: true,\n        theme: 'monokai'\n      }}\n      {...props}\n    />\n  );\n};\n\nexport const ModelEditor = (props: EditorProps) => {\n  return (\n    <CasbinCodeMirror\n      persist={Persist.MODEL}\n      options={{\n        lineNumbers: true,\n        indentUnit: 4,\n        styleActiveLine: true,\n        matchBrackets: true,\n        mode: 'casbin-conf',\n        lineWrapping: true,\n        theme: 'monokai'\n      }}\n      {...props}\n    />\n  );\n};\n\nexport const PolicyEditor = (props: EditorProps) => {\n  return (\n    <CasbinCodeMirror\n      persist={Persist.POLICY}\n      options={{\n        lineNumbers: true,\n        indentUnit: 4,\n        styleActiveLine: true,\n        matchBrackets: true,\n        mode: 'casbin-csv',\n        lineWrapping: true,\n        theme: 'monokai'\n      }}\n      {...props}\n    />\n  );\n};\n\nexport const RequestEditor = (props: EditorProps) => {\n  return (\n    <CasbinCodeMirror\n      persist={Persist.REQUEST}\n      options={{\n        lineNumbers: true,\n        indentUnit: 4,\n        styleActiveLine: true,\n        matchBrackets: true,\n        mode: 'casbin-csv',\n        lineWrapping: true,\n        theme: 'monokai'\n      }}\n      {...props}\n    />\n  );\n};\n\ninterface RequestResultEditorProps {\n  value: string;\n  style?: CSSProperties;\n}\n\nexport const RequestResultEditor = (props: RequestResultEditorProps) => {\n  return (\n    <div style={props.style}>\n      <CodeMirror\n        onBeforeChange={() => {}}\n        value={props.value}\n        options={{\n          readOnly: true,\n          indentUnit: 4,\n          styleActiveLine: true,\n          matchBrackets: true,\n          mode: 'javascript',\n          lineWrapping: true,\n          theme: 'monokai'\n        }}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport { Button, Echo } from '../ui';\nimport { Config } from 'casbin/lib/config';\n\ninterface SyntaxProps {\n  model: string;\n  onResponse: (com: JSX.Element) => void;\n}\n\nconst Syntax = (props: SyntaxProps) => {\n  return (\n    <Button\n      style={{ marginRight: 8 }}\n      onClick={() => {\n        try {\n          Config.newConfigFromText(props.model);\n          props.onResponse(<Echo>passed</Echo>);\n        } catch (e) {\n          props.onResponse(<Echo type={'error'}>{e.message}</Echo>);\n        }\n      }}\n    >\n      SYNTAX VALIDATE\n    </Button>\n  );\n};\n\nexport default Syntax;\n","import React, { isValidElement, useState } from 'react';\nimport SelectModel from './select-model';\nimport { Button, EditorContainer, FlexRow, HeaderTitle } from '../ui';\nimport { getSelectedModel, reset } from './persist';\nimport { CustomFunctionEditor, ModelEditor, PolicyEditor, RequestEditor, RequestResultEditor } from './editor';\nimport Syntax from './syntax';\nimport RunTest from './run-test';\n\nexport const EditorScreen = () => {\n  const [model, setModel] = useState(getSelectedModel());\n  const [modelText, setModelText] = useState('');\n  const [policy, setPolicy] = useState('');\n  const [fn, setFn] = useState('');\n  const [request, setRequest] = useState('');\n  const [echo, setEcho] = useState<JSX.Element>(<></>);\n  const [requestResult, setRequestResult] = useState('');\n  const [visible, setVisible] = useState(false);\n\n  return (\n    <>\n      <FlexRow>\n        <EditorContainer>\n          <FlexRow>\n            <HeaderTitle>Model</HeaderTitle>\n            <SelectModel\n              onChange={value => {\n                setModel(value);\n              }}\n            />\n            <Button\n              onClick={() => {\n                const ok = window.confirm('Confirm Reset?');\n                if (ok) {\n                  reset(model);\n                  window.location.reload();\n                }\n              }}\n              style={{ marginLeft: 8 }}\n            >\n              Reset\n            </Button>\n          </FlexRow>\n          <ModelEditor model={model} onChange={setModelText} />\n        </EditorContainer>\n        <EditorContainer>\n          <HeaderTitle>Policy</HeaderTitle>\n          <PolicyEditor model={model} onChange={setPolicy} />\n        </EditorContainer>\n      </FlexRow>\n\n      <FlexRow>\n        <EditorContainer>\n          <HeaderTitle>Request</HeaderTitle>\n          <RequestEditor model={model} onChange={setRequest} />\n        </EditorContainer>\n        <EditorContainer>\n          <HeaderTitle>Enforcement Result</HeaderTitle>\n          <RequestResultEditor value={requestResult} />\n        </EditorContainer>\n      </FlexRow>\n\n      <FlexRow>\n        <EditorContainer>\n          <FlexRow>\n            <HeaderTitle>Custom Function</HeaderTitle>\n            <Button onClick={() => setVisible(!visible)}>TOGGLE</Button>\n          </FlexRow>\n          {visible && <CustomFunctionEditor model={model} onChange={setFn} />}\n        </EditorContainer>\n      </FlexRow>\n\n      <div style={{ padding: 8 }}>\n        <Syntax model={modelText} onResponse={component => setEcho(component)} />\n        <RunTest\n          model={modelText}\n          policy={policy}\n          fn={fn}\n          request={request}\n          onResponse={v => {\n            if (isValidElement(v)) {\n              setEcho(v);\n            } else if (Array.isArray(v)) {\n              setRequestResult(v.join('\\n'));\n            }\n          }}\n        />\n        <div style={{ display: 'inline-block' }}>{echo}</div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { EditorScreen } from './editor';\nimport { Footer } from './ui';\nimport 'normalize.css/normalize.css';\n\nconst App = () => (\n  <>\n    <EditorScreen />\n\n    <Footer>\n      <a target=\"_blank\" href=\"https://github.com/casbin/casbin-editor\">\n        <img alt=\"GitHub stars\" src=\"https://img.shields.io/github/stars/casbin/casbin-editor?style=social\" />\n      </a>\n      <span style={{ color: '#FFFFFF', float: 'right', fontSize: 14 }}>Copyright Â© {new Date().getFullYear()} Casbin contributors.</span>\n    </Footer>\n  </>\n);\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}